<script>$( function(){    $("#navbar-library").addClass("active");    showBooks();});$(window).scroll(function() {	var top = document.documentElement.scrollTop + document.body.scrollTop;	var bodyheight = $(document).height();	if (bodyheight - top - $(window).height() <= 100) {		showBooks();	}});function showBooks(){	updateWaterfall( "{'library/ajaxGetLatestBooks'|site_url}", wrapBook );}function wrapBook( id, book ) {	var str = '<div class="waterfall-item" id="item-'+id+'">'+'<a href="{"library/view"|site_url}?id='+book.book_id+'">'+'<img src="'+book.book_image+'" class="img-rounded"></a>'+'<h4><a href="{"library/view"|site_url}?id='+book.book_id+'">'+book.book_name+'</a></h4>'+'<ul>'+'<li>发表于 '+book.created_time+'</li>'+'<li>作者: <a href="{"library/profile"|site_url}?id='+book.author_id+'">'+book.author_name+'</a></li>'+'<li><code>'+book.view_count+'</code>人读过&nbsp;&nbsp;|&nbsp;&nbsp;<code>'+book.like_count+'</code>人喜欢</li>'+'</ul></div>';	return str;}</script>